# ==========================================
# 1. SHARED UTILITIES (Version Agnostic)
# ==========================================
tqdm
albumentations
cmake
fastapi[all] ; sys_platform == 'darwin' 
# (Note: Windows has a specific version below, Mac gets latest)

# ==========================================
# 2. WINDOWS SPECIFIC (Strict Native GPU Support)
# ==========================================
# Core Engine (TF 2.10 requires old ProtoBuf & Numpy)
tensorflow==2.10.1      ; sys_platform == 'win32'
keras==2.10.0           ; sys_platform == 'win32'
numpy==1.23.5           ; sys_platform == 'win32'
protobuf==3.19.6        ; sys_platform == 'win32'

# Computer Vision & Face
opencv-python==4.8.0.76 ; sys_platform == 'win32'
mediapipe==0.10.7       ; sys_platform == 'win32'
deepface==0.0.79        ; sys_platform == 'win32'
retina-face==0.0.13     ; sys_platform == 'win32'
dlib                    ; sys_platform == 'win32'

# Data & Cloud (Pinned versions)
pandas==2.1.1               ; sys_platform == 'win32'
scikit-learn==1.3.1         ; sys_platform == 'win32'
gcsfs==2023.10.0            ; sys_platform == 'win32'
google-cloud-storage==2.12.0; sys_platform == 'win32'
Pillow==9.5.0               ; sys_platform == 'win32'
ipykernel==6.28.0           ; sys_platform == 'win32'
fastapi[all]==0.104.1       ; sys_platform == 'win32'

# ==========================================
# 3. MAC OS SPECIFIC (Apple Silicon Optimized)
# ==========================================
# Core Engine (TF 2.15 works best with newer Numpy/ProtoBuf)
tensorflow-macos==2.15.0 ; sys_platform == 'darwin'
tensorflow-metal==1.1.0  ; sys_platform == 'darwin'
tf-keras                 ; sys_platform == 'darwin'

# Dependencies (Letting Mac pick the newest compatible versions)
numpy                    ; sys_platform == 'darwin'
pandas                   ; sys_platform == 'darwin'
scikit-learn             ; sys_platform == 'darwin'
opencv-python            ; sys_platform == 'darwin'
deepface                 ; sys_platform == 'darwin'
retina-face              ; sys_platform == 'darwin'
gcsfs                    ; sys_platform == 'darwin'
google-cloud-storage     ; sys_platform == 'darwin'
Pillow                   ; sys_platform == 'darwin'
ipykernel                ; sys_platform == 'darwin'